(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){e.exports=n(43)},32:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),u=n.n(o),c=(n(32),n(8)),l=n.n(c),i=n(12),s=n(9),m=n(3),p=n(10),d=n(2),f="auth/SET_USER",h=function(e){return e?{type:f,user:e}:{type:f,user:{}}},b=function(e,t){return function(){var n=Object(i.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:return r=n.sent,n.next=5,r.json();case 5:return r.data=n.sent,r.ok&&a(h(r.data.user)),n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};n(38);var E=function(){var e=Object(m.b)(),t=Object(d.f)(),n=Object(m.c)((function(e){return e.auth.id})),o=Object(a.useState)(""),u=Object(s.a)(o,2),c=u[0],l=u[1],i=Object(a.useState)(""),p=Object(s.a)(i,2),f=p[0],h=p[1];return n?r.a.createElement(d.a,{to:"/home"}):r.a.createElement("div",{className:"loginBackground"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"loginContainer__header"},r.a.createElement("h1",null,"Login"),r.a.createElement("button",{id:"registerButton",onClick:function(e){e.preventDefault(),t.push("/signup")}},"Create Account")),r.a.createElement("form",{className:"loginContainer__form",onSubmit:function(t){t.preventDefault(),e(b(c,f))}},r.a.createElement("label",{className:"loginContainer__formLable"},"Email address"),r.a.createElement("input",{className:"loginContainer__formInput",type:"email",name:"email",value:c,required:!0,autoComplete:"off",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{className:"loginContainer__formLable"},"Password"),r.a.createElement("input",{className:"loginContainer__formInput",type:"password",name:"password",value:f,required:!0,autoComplete:"off",onChange:function(e){return h(e.target.value)}}),r.a.createElement("button",{id:"signIn",type:"submit"},"Sign in"))))},g=n(17),v=n(22);n(40);var y=function(){var e=Object(m.c)((function(e){return e.auth.id})),t=Object(m.b)(),n=Object(d.f)(),o=Object(a.useState)(1),u=Object(s.a)(o,2),c=u[0],p=u[1],f=Object(a.useState)({email:"",username:"",password:""}),b=Object(s.a)(f,2),E=b[0],y=b[1],C=function(e){e.preventDefault(),y(Object(v.a)(Object(v.a)({},E),{},Object(g.a)({},e.target.name,e.target.value)))},_=function(e){var n,a,r;e.preventDefault(),t((n=E.username,a=E.email,r=E.password,console.log(n,r,a),function(){var e=Object(i.a)(l.a.mark((function e(t){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:a,password:r})});case 2:return o=e.sent,e.next=5,o.json();case 5:return o.data=e.sent,o.ok&&t(h(o.data.user)),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},w=function(){var e=document.querySelector("section"),t=document.createElement("span"),n=50*Math.random();t.style.width=20+n+"px",t.style.height=20+n+"px",t.style.top=Math.random()*window.innerHeight+"px",t.style.left=Math.random()*window.innerWidth+"px",e.appendChild(t),setTimeout((function(){t.remove()}),5e3)},j=function(e){if(("U+000A"===e.keyIdentifier||"Enter"===e.keyIdentifier||13===e.keyCode)&&"INPUT"===e.target.nodeName&&("text"===e.target.type||"email"===e.target.type))return e.preventDefault(),!1};return Object(a.useEffect)((function(){window.addEventListener("keydown",j);var e=setInterval(w,150);return function(){clearInterval(e),window.removeEventListener("keydown",j)}}),[]),e?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signupBackground"},r.a.createElement("section",null),r.a.createElement("div",{className:"signupContainer"},r.a.createElement("form",{className:"signupContainer__form",onSubmit:_},1===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signupContainer__text"},r.a.createElement("p",null,"Is that you? Are you the one that the legends speak of? It can't be you! What is your name?")),r.a.createElement("div",null,r.a.createElement("input",{className:"signupContainer__formInput",type:"text",name:"username",value:E.username,placeholder:"Enter your username",autoComplete:"off",onChange:C}))):null,2===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signupContainer__text"},r.a.createElement("p",null,"Whoa it really is you! I thought you were just a myth! Let me be the first to welcome you to Lonely Gamer ",E.username,"! While you are out on your adventures there may come a time when we may need to email you top secret information, in that event where would would you like us to send it?")),r.a.createElement("div",null,r.a.createElement("input",{className:"signupContainer__formInput",type:"email",name:"email",value:E.email,placeholder:"Enter your email",autoComplete:"off",onChange:C}))):null,3===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signupContainer__text"},r.a.createElement("p",null,"Nice! Here at Lonely Gamer we would like to keep the myths about you just that myths, but if all your information is just out in the open there are no myths to be spoken of. Therefore we will keep your information hidden with a code only you know. ")),r.a.createElement("div",null,r.a.createElement("input",{className:"signupContainer__formInput",type:"password",name:"password",value:E.password,placeholder:"Enter your password",autoComplete:"off",onChange:C}))):null),r.a.createElement("div",{className:"signupContainer__buttonsBox"},r.a.createElement("div",null,r.a.createElement("button",{className:"signupContainer__button",id:"signupBackButton",onClick:function(){return p(c-1)},disabled:c<2},"Back")),3===c?r.a.createElement("div",null,r.a.createElement("button",{className:"signupContainer__button",id:"signupPageButton",onClick:_},"Create Profile")):null,1===c?r.a.createElement("div",null,r.a.createElement("button",{className:"signupContainer__button",id:"signupPageButton",onClick:function(e){e.preventDefault(),n.push("/login")}},"Have an account?")):null,r.a.createElement("div",null,r.a.createElement("button",{className:"signupContainer__button",id:"signupNextButton",onClick:function(){return p(c+1)},disabled:c>2},"Next"))))))};n(41);var C=function(){var e=Object(m.b)(),t=Object(d.f)();return Object(m.c)((function(e){return e.auth.id}))?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"splashContainer"},r.a.createElement("div",{className:"splashContainer__login"},r.a.createElement("button",{className:"splashContainer__button",onClick:function(e){e.preventDefault(),t.push("/login")}},"Login"),r.a.createElement("button",{className:"splashContainer__button",onClick:function(t){t.preventDefault(),e(b("demo@demo.com","password"))}},"Demo Login")),r.a.createElement("div",{className:"splashContainer__body"},r.a.createElement("h1",{id:"gotGame"},"GOT GAME?"),r.a.createElement("button",{id:"signupButton",onClick:function(e){e.preventDefault(),t.push("/signup")}},"Create Account"))),r.a.createElement("div",{className:"background"},r.a.createElement("img",{id:"splashImg",src:"https://images.unsplash.com/photo-1588915845045-32c9e46c7ae8?ixlib=rb-1.2.1",alt:"background"})),r.a.createElement("div",{className:"backgroundColor"}))};n(42);var _=function(){var e=Object(m.b)();return Object(m.c)((function(e){return e.auth.id}))?r.a.createElement("div",{className:"homeContainer"},r.a.createElement("div",{className:"homeContainer__left"}),r.a.createElement("div",{className:"homeContainer__right"},r.a.createElement("button",{id:"logout",onClick:function(t){t.preventDefault(),e(function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session",{method:"delete",headers:{}});case 2:return(n=e.sent).ok&&t({type:"auth/LOGOUT_USER"}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Sign Out"))):r.a.createElement(d.a,{to:"/"})};var w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{exact:!0,path:"/home",component:_}),r.a.createElement(d.b,{exact:!0,path:"/login",component:E}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:y}),r.a.createElement(d.b,{exact:!0,path:"/",component:C}))};var j,O=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],o=t[1],u=Object(m.b)();return Object(a.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/current");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:t.data=e.sent,u(h(t.data.user));case 8:o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),n?null:r.a.createElement(p.a,null,r.a.createElement(w,null))},k=n(13),N=n(26),x=Object(k.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.user;case"auth/LOGOUT_USER":return{};default:return e}}});j=Object(k.a)(N.a);var S,I=Object(k.d)(x,S,j);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:I},r.a.createElement(O,null))),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9e7a2e10.chunk.js.map