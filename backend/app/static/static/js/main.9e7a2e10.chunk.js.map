{"version":3,"sources":["store/auth.js","components/Login.js","components/Signup.js","components/Splash.js","components/Home.js","components/Pages.js","App.js","store/configureStore.js","index.js"],"names":["SET_USER","setUser","user","type","login","email","password","dispatch","a","fetch","method","headers","body","JSON","stringify","res","json","data","ok","Login","useDispatch","history","useHistory","currentUserId","useSelector","state","auth","id","useState","setEmailname","setPassword","to","className","onClick","e","preventDefault","push","onSubmit","name","value","required","autoComplete","onChange","target","Signup","count","setCount","username","form","setForm","formUpdate","handleSubmit","console","log","createSquare","section","document","querySelector","square","createElement","size","Math","random","style","width","height","top","window","innerHeight","left","innerWidth","appendChild","setTimeout","remove","noEnter","keyIdentifier","keyCode","nodeName","useEffect","addEventListener","interval","setInterval","clearInterval","removeEventListener","placeholder","disabled","Splash","src","alt","Home","Pages","exact","path","component","App","storeEnhancer","loading","setLoading","loadUser","rootReducer","combineReducers","action","applyMiddleware","thunk","initialState","store","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9e7a2e10.chunk.js","sourcesContent":["const SET_USER = 'auth/SET_USER';\nconst LOGOUT_USER = 'auth/LOGOUT_USER';\n\nexport const setUser = (user) => {\n    if(!user){\n        return {\n        type: SET_USER,\n        user: {}\n        }\n    }\n    return {\n        type: SET_USER,\n        user\n    };\n};\n\nexport const logoutUser = () => {\n    return {\n        type: LOGOUT_USER\n    }\n}\n\nexport const login = (email, password) => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n            method: 'post',\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) { \n            dispatch(setUser(res.data.user))\n        }\n        return res;\n    }\n}\n\nexport const signup = (username, email, password) => {\n    console.log(username, password, email)\n    return async dispatch => {\n        const res = await fetch('/api/users/signup', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ username, email, password })\n        })\n        res.data = await res.json();\n        if (res.ok) {\n            dispatch(setUser(res.data.user));\n        }\n        return res;\n    }\n}\n\n\n\nexport const logout = () => {\n    return async dispatch => {\n        const res = await fetch('/api/session', {\n        method: 'delete',\n            headers: { },\n        })\n        if (res.ok) {\n            dispatch(logoutUser());\n        }\n        return res;\n    }\n}\n\nexport default function authReducer(state = {}, action) {\n  switch (action.type) {\n    case SET_USER:\n      return action.user;\n    case LOGOUT_USER:\n      return {};\n    default:\n      return state;\n  }\n}\n","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { login } from '../store/auth';\nimport '../css/login.css'\n\nfunction Login() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const currentUserId = useSelector(state => state.auth.id);\n    const [email, setEmailname] = useState('');\n    const [password, setPassword] = useState('');\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        dispatch(login(email, password))\n    };\n\n    const signup = e => {\n        e.preventDefault();\n        history.push(`/signup`)\n    }\n    if (currentUserId) return <Redirect to='/home' />\n\n    return (\n        <div className='loginBackground'>\n            <div className='loginContainer'>\n                <div className='loginContainer__header'>\n                    <h1>Login</h1>\n                    <button id='registerButton' onClick={signup} >Create Account</button>\n                </div>\n                <form className='loginContainer__form' onSubmit={handleSubmit}>\n                    <label className='loginContainer__formLable'>Email address</label>\n                        <input className='loginContainer__formInput'\n                            type=\"email\" \n                            name=\"email\" \n                            value={email}\n                            required={true}\n                            autoComplete=\"off\" \n                            onChange={(e) => setEmailname(e.target.value)} \n                        />\n                    <label className='loginContainer__formLable'>Password</label>\n                        <input className='loginContainer__formInput'\n                            type='password' \n                            name='password' \n                            value={password}\n                            required={true}\n                            autoComplete=\"off\"\n                            onChange={(e) => setPassword(e.target.value)} \n                        />\n                    <button id='signIn' type='submit'>Sign in</button> \n                </form> \n            </div>\n        </div>\n    );\n};\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signup } from '../store/auth'\nimport { Redirect, useHistory } from 'react-router-dom';\nimport '../css/signup.css'\n\nfunction Signup() {\n    const currentUserId = useSelector(state => state.auth.id);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    \n    \n\n    const [count, setCount] = useState(1)\n\n    const [form, setForm] = useState({\n      email: '',\n      username: '',\n      password: '',\n    })\n\n    const formUpdate  = (e) => {\n        e.preventDefault()\n        setForm({...form, [e.target.name]: e.target.value})\n    }\n    \n    const handleSubmit = e => {\n        e.preventDefault();\n        dispatch(signup(form.username, form.email, form.password));\n    }\n    \n    const login = e => {\n        e.preventDefault();\n        history.push(`/login`)\n    }\n    \n    const createSquare = () => {\n        const section = document.querySelector('section');\n        const square = document.createElement('span');\n        \n        let size = Math.random() * 50;\n        \n        square.style.width = 20 + size + 'px';\n        square.style.height = 20 + size + 'px';\n        square.style.top = Math.random() * window.innerHeight + 'px';\n        square.style.left = Math.random() * window.innerWidth + 'px';\n        \n        \n        section.appendChild(square);\n\n        setTimeout(() => {\n            square.remove()\n        }, 5000)\n    }\n    const noEnter = (e) => {\n        if (e.keyIdentifier==='U+000A'||e.keyIdentifier==='Enter'||e.keyCode===13)\n            {if (e.target.nodeName==='INPUT'&&\n                    (e.target.type==='text'||\n                     e.target.type==='email')) {\n                     e.preventDefault();\n                    return false;\n                }\n            }\n        \n    }\n    useEffect(() => {\n        window.addEventListener('keydown',noEnter)\n\n        const interval = setInterval(createSquare, 150);\n\n        return () => {\n            clearInterval(interval);\n            window.removeEventListener('keydown', noEnter);\n        }\n\n    }, [])\n\n    if (currentUserId) return <Redirect to='/home' />\n\n    return (\n        <>\n            <div className='signupBackground'>\n                <section></section>\n                <div className=\"signupContainer\">\n                    <form className='signupContainer__form' onSubmit={handleSubmit}>\n                    {count === 1 ? (\n                        <>\n                            <div className='signupContainer__text'>\n                                <p>Is that you? Are you the one that the legends speak of? It can't be you! What is your name?</p>\n                            </div>\n                            <div>\n                                <input\n                                    className='signupContainer__formInput'\n                                    type='text' \n                                    name='username' \n                                    value={form.username} \n                                    placeholder=\"Enter your username\"\n                                    autoComplete='off' \n                                    onChange={formUpdate} \n                                />\n                            </div>\n                        </>\n                    ): null}\n                    {count === 2 ? (\n                        <>\n                            <div className='signupContainer__text'>\n                                <p>Whoa it really is you! I thought you were just a myth! Let me be the first to welcome you to Lonely Gamer {form.username}! \n                                While you are out on your adventures there may come a time when we may need to email you top secret information,\n                                in that event where would would you like us to send it?\n                                </p>\n                            </div>\n                            <div>\n                                <input \n                                    className='signupContainer__formInput'\n                                    type='email' \n                                    name='email' \n                                    value={form.email} \n                                    placeholder=\"Enter your email\"\n                                    autoComplete='off' \n                                    onChange={formUpdate} \n                                />\n                            </div>\n                        </>\n                    ): null}\n                    {count === 3 ? (\n                        <>\n                            <div className='signupContainer__text'>\n                                <p>Nice! Here at Lonely Gamer we would like to keep the myths about you just that myths,\n                                    but if all your information is just out in the open there are no myths to be spoken of. \n                                    Therefore we will keep your information hidden with a code only you know. </p>\n                            </div>\n                            <div>\n                                <input \n                                    className='signupContainer__formInput'\n                                    type='password' \n                                    name='password' \n                                    value={form.password} \n                                    placeholder=\"Enter your password\"\n                                    autoComplete='off' \n                                    onChange={formUpdate} \n                                />\n                            </div>\n                        </>\n                    ): null}\n                    </form>\n                    <div className='signupContainer__buttonsBox'>\n                        <div>\n                            <button className='signupContainer__button' id='signupBackButton' onClick={() => setCount(count - 1)} disabled={count < 2}>Back</button>\n                        </div>\n                        {count === 3 ? (\n                        <div>\n                            <button className='signupContainer__button' id='signupPageButton' onClick={handleSubmit}>Create Profile</button>\n                        </div>\n                        ): null}\n                        {count === 1 ? (\n                        <div>\n                            <button className='signupContainer__button' id='signupPageButton' onClick={login}>Have an account?</button>\n                        </div>\n                        ): null}\n                        <div>\n                            <button className='signupContainer__button' id='signupNextButton' onClick={() => setCount(count + 1)} disabled={count > 2}>Next</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Signup;","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { login } from '../store/auth';\nimport '../css/splash.css'\n\nfunction Splash() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    \n    const currentUserId = useSelector(state => state.auth.id);\n    \n    const demo = e => {\n        e.preventDefault();\n        dispatch(login('demo@demo.com', 'password'))\n    };\n\n    const signin = e => {\n        e.preventDefault();\n        history.push(`/login`)\n    }\n\n    const signup = e => {\n        e.preventDefault();\n        history.push(`/signup`)\n    }\n\n    if (currentUserId) return <Redirect to='/home' />\n    \n    return (\n        <>\n            <div className='splashContainer'>\n                <div className='splashContainer__login'>\n                    <button className='splashContainer__button' onClick={signin}>Login</button>\n                    <button className='splashContainer__button' onClick={demo} >Demo Login</button>\n                </div>\n                <div className='splashContainer__body'>\n                    <h1 id='gotGame'>GOT GAME?</h1>\n                    <button id='signupButton' onClick={signup}>Create Account</button>\n                </div>\n            </div>\n            <div className='background'>\n                <img id='splashImg' src='https://images.unsplash.com/photo-1588915845045-32c9e46c7ae8?ixlib=rb-1.2.1' alt='background'></img>\n            </div>\n            <div className='backgroundColor'>\n            </div>\n        </>\n    )\n}\n\nexport default Splash;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom'\nimport { logout } from '../store/auth';\n\nimport '../css/home.css'\n\nfunction Home() {\n    const dispatch = useDispatch();\n\n    const currentUserId = useSelector(state => state.auth.id);\n\n    const signOut = e => {\n        e.preventDefault();\n        dispatch(logout());\n    }\n\n    if (!currentUserId) return <Redirect to='/' />\n\n    return (\n        <div className='homeContainer'>\n            <div className='homeContainer__left'>\n\n            </div>\n            <div className='homeContainer__right'>\n                <button id='logout' onClick={signOut}>Sign Out</button>\n            </div>\n        </div>\n        \n    )\n}\n\nexport default Home;","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Login from './Login';\nimport Signup from './Signup';\nimport Splash from './Splash'\nimport Home from './Home'\n\nfunction Pages() {\n    return (\n        <>\n            <Route exact path='/home' component={Home} />\n            <Route exact path='/login' component={Login} />\n            <Route exact path='/signup' component={Signup} />\n            <Route exact path='/' component={Splash} />\n        </>\n    )\n}\n\nexport default Pages;","\nimport React, {useEffect, useState} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Pages from './components/Pages';\nimport { setUser } from './store/auth';\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        const loadUser = async () => {\n        const res = await fetch(\"/api/session/current\");\n        if (res.ok) {\n            res.data = await res.json();\n            dispatch(setUser(res.data.user));\n        }\n        setLoading(false);\n        }\n        loadUser();\n    }, [dispatch]);\n\n    if(loading) return null;\n        \n    return (\n        <BrowserRouter>\n        <Pages />\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","import { createStore, compose, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport auth from './auth';\n\nconst rootReducer = combineReducers({\n    auth\n});\n\nlet storeEnhancer;\n\nif (process.env.NODE_ENV !== 'production') {\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    storeEnhancer = composeEnhancers(applyMiddleware(thunk));\n} else {\n    storeEnhancer = applyMiddleware(thunk);\n}\n\nexport default function configureStore(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        storeEnhancer\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\n\n\nconst store = configureStore();\nif (process.env.NODE_ENV !== 'production') {\n    window.store = store;\n}\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n        <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);"],"sourceRoot":""}