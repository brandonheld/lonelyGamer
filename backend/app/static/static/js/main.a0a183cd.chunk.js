(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),u=a.n(c),l=(a(30),a(9)),o=a.n(l),s=a(12),i=a(4),m=a(8),p=a(10),d=a(2),b="auth/SET_USER",f=function(e){return e?{type:b,user:e}:{type:b,user:{}}},E=function(e,t){return function(){var a=Object(s.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:return r=a.sent,a.next=5,r.json();case 5:return r.data=a.sent,r.ok&&n(f(r.data.user)),a.abrupt("return",r);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};a(36);var g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(""),l=Object(i.a)(u,2),o=l[0],s=l[1],b=Object(n.useState)(""),f=Object(i.a)(b,2),g=f[0],v=f[1],h=Object(n.useState)(""),O=Object(i.a)(h,2),j=O[0],y=O[1],w=Object(m.c)((function(e){return e.auth.id})),N=Object(m.b)(),S="form-input",x="form-input";return w?r.a.createElement(d.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loginWrapper"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{id:"loginLabel"},"Log in"),r.a.createElement("form",{className:"loginContainer__form",onSubmit:function(e){e.preventDefault(),v(""),y(""),a&&o?N(E(a.toLocaleLowerCase(),o)):!a&&o?(S="bad-input",v("Oi! We're gonna need that email of yours!")):a&&!o&&(x="bad-input",y("What's the password?"))}},r.a.createElement("div",null,r.a.createElement("span",{style:{color:"red"}},g),r.a.createElement("input",{type:"email",className:S,name:"email",value:a,placeholder:"Email",onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"password",className:x,name:"password",value:o,placeholder:"Password",onChange:function(e){return s(e.target.value)}})),r.a.createElement("span",{style:{color:"red"}},j),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"loginContainer__loginButton"},"Log in")),r.a.createElement("button",{className:"loginContainer__loginButton",onClick:function(e){e.preventDefault(),N(E("demo@moneypit.com","password"))}},"Demo Log in")),r.a.createElement("div",{id:"redirect"},"New to Kickstarter? ",r.a.createElement(p.b,{to:"/signup",style:{textDecoration:"none",color:"blue",fontWeight:"bold"}}," Sign up ")))))},v=(a(38),"signup-input"),h="signup-input";var O=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(""),l=Object(i.a)(u,2),b=l[0],E=l[1],g=Object(n.useState)(""),O=Object(i.a)(g,2),j=O[0],y=O[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),S=N[0],x=N[1],C=Object(n.useState)(""),k=Object(i.a)(C,2),_=k[0],L=k[1],W=Object(n.useState)(""),D=Object(i.a)(W,2),J=D[0],R=D[1],T=Object(m.c)((function(e){return e.auth.id})),U=Object(m.b)();return T?r.a.createElement(d.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"signup_master"},r.a.createElement("div",{className:"signup_master-box"},r.a.createElement("div",{className:"signup-container"},r.a.createElement("div",{className:"signup-redirect"},"Have and account? ",r.a.createElement(p.b,{to:"/login",style:{textDecoration:"none",color:"blue",fontWeight:"bold"}}," Log in ")),r.a.createElement("div",{className:"signup-container-box"},r.a.createElement("form",{className:"form_container",onSubmit:function(e){e.preventDefault(),v="signup-input",h="signup-input",L(""),R(""),x(""),b&&j?U(function(e,t,a){return function(){var n=Object(s.a)(o.a.mark((function n(r){var c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:a})});case 2:return c=n.sent,n.next=5,c.json();case 5:return c.data=n.sent,c.ok&&r(f(c.data.user)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,b.toLocaleLowerCase(),j)):!b&&j?(v="bad-input",L("Oi! We're gonna need that email of yours!")):b&&!j?(h="bad-input",R("What's the password?")):(v="bad-input",h="bad-input",x("You can't get in if you're not a member!"))}},r.a.createElement("div",{className:"signup-label"},"Sign up"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:v,name:"username",value:a,placeholder:"Username",onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{style:{color:"red"}},S),r.a.createElement("input",{type:"email",className:v,name:"email",value:b,placeholder:"Email",onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{style:{color:"red"}},S),r.a.createElement("input",{type:"email",className:v,name:"email",value:b,placeholder:"Re-enter Email",onChange:function(e){return E(e.target.value)}})),r.a.createElement("span",{style:{color:"red"}},_),r.a.createElement("div",null,r.a.createElement("input",{type:"password",className:h,name:"password",value:j,placeholder:"Password",onChange:function(e){return y(e.target.value)}})),r.a.createElement("span",{style:{color:"red"}},J),r.a.createElement("div",null,r.a.createElement("input",{type:"password",className:h,name:"password",value:j,placeholder:"Re-Enter Password",onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"signup-button"},"Create account"))))))))};function j(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",component:g}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:O})))}var y,w=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],u=Object(m.b)();return Object(n.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/current");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:t.data=e.sent,u(f(t.data.user));case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),a?null:r.a.createElement(p.a,null,r.a.createElement(j,null))},N=a(13),S=a(24),x=Object(N.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.user;case"auth/LOGOUT_USER":return{};default:return e}}});y=Object(N.a)(S.a);var C,k=Object(N.d)(x,C,y);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:k},r.a.createElement(w,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.a0a183cd.chunk.js.map